; Supervisor config for Fake Job Scam Detector backend
; Put this file into /etc/supervisor/conf.d/scam_backend.conf on the server and run:
; sudo supervisorctl reread && sudo supervisorctl update

[program:scam_backend]
directory=/srv/fake-job-scam-detector
; Adjust the venv/python path to your environment below
command=/srv/fake-job-scam-detector/venv/bin/gunicorn -w 4 -b 127.0.0.1:8000 wsgi:app
autostart=true
autorestart=true
stderr_logfile=/var/log/supervisor/scam_backend.err.log
stdout_logfile=/var/log/supervisor/scam_backend.out.log
user=www-data
environment=PYTHONUNBUFFERED="1"

; Notes:
; - Ensure the 'directory' path matches the deployed project path.
; - Ensure the venv path in 'command' points to your virtualenv's bin/gunicorn.
; - Use wsgi:app since wsgi.py instantiates the Flask app via create_app().
